<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org/" lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CineBuddy | Watch List</title>
  <!-- Flickity CSS -->
  <th:block th:replace="~{fragments :: head}"></th:block>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://unpkg.com/flickity@2/dist/flickity.min.css">
  <link rel="stylesheet" th:href="@{/css/watch-list-styles.css}">
  <link rel="stylesheet" th:href="@{/css/styles.css}">
  <!-- Google Font: Poppins -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@600&display=swap" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha384-GNFwBvfVxBkLMJpYMOABq3c+d3KnQxudP/mGPkzpZSTYykLBNsZEnG2D9G/X/+7D" crossorigin="anonymous" async></script>
</head>
<body>
<div th:replace="~{fragments :: page-nav}"></div>

<div class="container">
  <header>
    <div class="title-card">
      <h1>My Watch Lists</h1>
    </div>
    <a href="/watchlist/create" class="create-button">Create a New Watch List</a>
  </header>

  <div class="watchlist-container">
    <div th:if="${watchLists == null or #lists.isEmpty(watchLists)}" class="empty-message">
      <p>You currently have no Watch Lists. Create one to get started!</p>
    </div>

    <main th:if="${watchLists != null and !#lists.isEmpty(watchLists)}">
      <div class="watchlist-grid">
        <a th:each="watchlist : ${watchLists}" th:href="@{/watchlist/{watchListId}(watchListId=${watchlist.id})}" class="watchlist-card">
          <h2 th:text="${watchlist.name}"></h2>
        </a>
      </div>
    </main>
  </div>
</div>
</body>
</html>
